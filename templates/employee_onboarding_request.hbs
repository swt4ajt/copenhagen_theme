{{! Employee Onboarding Request Form }}
<h1>New Employee Onboarding</h1>
<form id="employeeOnboardingForm">
  <div id="employeeOnboardingFields">
    <!-- Dynamic fields will be rendered here -->
  </div>
  <button type="submit">Submit</button>
  <button type="button" id="resetEmployeeOnboardingForm">Reset</button>
</form>
<script>
  fetch('/assets/request-forms.json')
    .then(res => res.json())
    .then(data => {
      const formId = '4959432829215'; // Onboarding form ID
      const fields = data[formId]?.fields || [];
      const fieldsContainer = document.getElementById('employeeOnboardingFields');
      fieldsContainer.innerHTML = fields.map(field => {
        return `<label>${field.label}<input name="${field.name}" type="${field.type || 'text'}" /></label>`;
      }).join('');
    });

  document.getElementById('employeeOnboardingForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);
    fetch('/api/submit-request', {
      method: 'POST',
      body: JSON.stringify(Object.fromEntries(formData)),
      headers: { 'Content-Type': 'application/json' }
    }).then(res => {
      if (res.ok) alert('Request submitted!');
      else alert('Submission failed.');
    });
  });

  document.getElementById('resetEmployeeOnboardingForm').addEventListener('click', function() {
    document.getElementById('employeeOnboardingForm').reset();
  });
</script>
